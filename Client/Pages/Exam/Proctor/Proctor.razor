@namespace SmartProctor.Client.Pages.Exam
@page "/Exam/Proctor/{ExamId}"
@layout EmptyLayout

<BasicLayout
    Title="@(_examDetails?.Name ?? "")"
    MenuRender="false"
    Logo="_logo">
    <RightContentRender>
        <RightContentProctor ExamId="_examId"/>
    </RightContentRender>
    <ChildContent>
        @for (var r = 0; r < (_testTakers.Count / NUM_COLS) + 1; r++)
        {
            var row = r;
            <Row>
                @for (var c = 0; c < NUM_COLS; c++)
                {
                    var col = c;
                    var index = row * NUM_COLS + col;
                    if (_examTakerVideoCards.Length > index)
                    {
                        <ExamTakerVideoCard @ref="@_examTakerVideoCards[index]"
                                             ExamTakerName="@_testTakers[index].Id"
                                             OnBanExamTaker="() => BanTestTaker(_testTakers[index].Id)"
                                             OnToggleCamera="() => OnToggleCamera(_testTakers[index].Id)"
                                             OnToggleDesktop="() => OnToggleDesktop(_testTakers[index].Id)"
                                             CardsEachRow="@(NUM_COLS)"/>
                    }
                }
            </Row>
        }
    </ChildContent>
    <FooterRender>
    </FooterRender>
</BasicLayout>